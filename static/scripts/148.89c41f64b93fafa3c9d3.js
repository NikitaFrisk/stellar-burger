"use strict";(self.webpackChunkreact_webpack_starter=self.webpackChunkreact_webpack_starter||[]).push([[148],{6458:(e,s,r)=>{r.d(s,{T:()=>l});var t=r(4848),a=r(3231),n=r(8867),o=r(5089),i=r(1440);var l=function(e){var s=e.title,r=e.children,l=e.onSubmit,u=e.buttonText,c=e.loadingText,d=e.isValid,m=e.links,f=(0,n.A)(),_=f.loading,h=f.error;return(0,t.jsx)("div",{className:"auth-form-module__container__ni8Uh",children:(0,t.jsxs)("form",{className:"auth-form-module__form___xsl0",onSubmit:l,children:[(0,t.jsx)("h1",{className:i.Xk.AUTH_FORM.TITLE,children:s}),(0,t.jsx)(o.K,{error:h||""}),(0,t.jsx)("div",{className:"auth-form-module__inputGroup__Ia74k",children:r}),(0,t.jsx)(a.$n,{htmlType:"submit",type:"primary",size:"medium",extraClass:"auth-form-module__button__obN8e",disabled:_||!d,children:_?c:u}),m&&(0,t.jsx)("div",{className:"auth-form-module__links__HdvVZ",children:m})]})})}},8605:(e,s,r)=>{r.d(s,{As:()=>o.A,mN:()=>n,iO:()=>u});var t=r(6540),a=function(){return a=Object.assign||function(e){for(var s,r=1,t=arguments.length;r<t;r++)for(var a in s=arguments[r])Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);return e},a.apply(this,arguments)};function n(e){void 0===e&&(e={});var s=(0,t.useState)(e),r=s[0],n=s[1];return{values:r,handleChange:function(e){var s,t=e.target,o=t.value,i=t.name;n(a(a({},r),((s={})[i]=o,s)))},setValues:n}}var o=r(8867),i=r(9204),l=r(6731),u=function(){return{ingredients:(0,i.GV)(l.vm),loading:(0,i.GV)(l.Jq),error:(0,i.GV)(l.Ff)}};r(7571),r(8823)},8867:(e,s,r)=>{r.d(s,{A:()=>n});var t=r(9204),a=r(7321),n=function(){return{loading:(0,t.GV)(a.H$),error:(0,t.GV)(a.ZB),isAuthenticated:(0,t.GV)(a.Kc),user:(0,t.GV)(a.mB),isPasswordResetRequested:(0,t.GV)(a.fv)}}},1148:(e,s,r)=>{r.r(s),r.d(s,{ResetPasswordPage:()=>f});var t=r(4848),a=r(6540),n=r(7767),o=r(4976),i=r(9204),l=r(3231),u=r(7321),c=r(8605),d=r(6458),m=r(1440);var f=function(){var e=(0,c.mN)({password:"",token:""}),s=e.values,r=e.handleChange,f=(0,a.useState)(!1),_=f[0],h=f[1],p=(0,a.useState)(!1),v=p[0],x=p[1],T=(0,i.jL)(),g=(0,n.Zp)(),w=(0,c.As)(),k=w.loading,j=w.error,b=w.isPasswordResetRequested;(0,a.useEffect)((function(){b||sessionStorage.getItem("reset-password-access")?b&&sessionStorage.setItem("reset-password-access","true"):g("/forgot-password")}),[]),(0,a.useEffect)((function(){if(v&&!k&&!j){h(!0);var e=setTimeout((function(){sessionStorage.removeItem("reset-password-access"),g("/login")}),2e3);return function(){return clearTimeout(e)}}}),[v,k,j,g]),(0,a.useEffect)((function(){return function(){T((0,u.ET)())}}),[T]);var N=Boolean(s.password&&s.token);if(_)return(0,t.jsx)("div",{className:"reset-password-module__container__Hdrly",children:(0,t.jsxs)("div",{className:"reset-password-module__form__Iym9C",children:[(0,t.jsx)("h1",{className:"".concat(m.Xk.STATUS.SUCCESS," mb-6"),children:"Пароль успешно изменен"}),(0,t.jsx)("p",{className:m.Xk.AUTH_FORM.LINK_TEXT,children:"Вы будете перенаправлены на страницу входа через несколько секунд..."})]})});var S=(0,t.jsxs)("p",{className:m.Xk.AUTH_FORM.LINK_TEXT,children:["Вспомнили пароль?"," ",(0,t.jsx)(o.N_,{to:"/login",style:{color:"#4c4cff",textDecoration:"none"},children:"Войти"})]});return(0,t.jsxs)(d.T,{title:"Восстановление пароля",onSubmit:function(e){e.preventDefault(),j&&T((0,u.ET)()),x(!0),T((0,u.xw)({password:s.password,token:s.token}))},buttonText:"Сохранить",loadingText:"Сохраняем...",isValid:N,links:S,children:[(0,t.jsx)(l.yA,{onChange:r,value:s.password,name:"password",placeholder:"Введите новый пароль"}),(0,t.jsx)(l.pd,{type:"text",placeholder:"Введите код из письма",onChange:r,value:s.token,name:"token",error:!1,errorText:"",size:"default"})]})}}}]);